# --- Variables ---
@eMechanic.API_HostAddress = http://localhost:5178
@api_version = v1
@base_url = {{eMechanic.API_HostAddress}}/api/{{api_version}}
@userId = 019a1201-cc4a-7ca4-b575-0c94a05397f5


# --- Users ---

### Register User
# @name RegisterUser
POST {{base_url}}/users/register
Content-Type: application/json

{
  "firstName": "Jan",
  "lastName": "Nowak",
  "email": "jan.nowak_{{$randomInt}}@test.com",
  "password": "Password123!"
}

### Login User
# @name LoginUser
POST {{base_url}}/users/login
Content-Type: application/json

{
    "email": "string@gmail.com",
    "password": "zaq1@WSX"
}

### Get User By ID
# @name GetUserById
GET {{base_url}}/users/{{userId}}
Accept: application/json

# --- Workshops ---

### Register Workshop
# @name RegisterWorkshop
POST {{base_url}}/workshops/register
Content-Type: application/json

{
  "email": "workshop_{{$randomInt}}@example.com",
  "password": "Password123!",
  "contactEmail": "contact_{{$randomInt}}@workshop.com",
  "name": "Super Warsztat",
  "displayName": "SuperW_{{$randomInt}}",
  "phoneNumber": "123456789",
  "address": "ul. Testowa 1",
  "city": "Pozna≈Ñ",
  "postalCode": "60-123",
  "country": "Polska"
}

### Login Workshop
# @name LoginWorkshop
POST {{base_url}}/workshops/login
Content-Type: application/json

{
    "email": "workshop-login@test.com",
    "password": "Password123!"
}

# --- Vehicles ---

### Create Vehicle
# @name CreateVehicle
POST {{base_url}}/vehicles
Content-Type: application/json

{
  "ownerUserId": "{{userId}}",
  "vin": "VIN{{$randomInt}}ABC123456",
  "manufacturer": "Test Manufacturer",
  "model": "Test Model",
  "productionYear": "2023",
  "engineCapacity": 1.9,
  "fuelType": "Diesel", // Options: Gasoline, Diesel, LPG, Electric, Hybrid, Hydrogen
  "bodyType": "Sedan",  // Options: Sedan, Hatchback, Kombi, SUV, Coupe, Convertible, Minivan, Pickup, Van
  "vehicleType": "Passenger" // Options: Passenger, Motorcycle
}

### Get Vehicle By ID
# @name GetVehicleById
GET {{base_url}}/vehicles/{{vehicleId}} # Set vehicleId variable after creating one
Accept: application/json

### Update Vehicle
# @name UpdateVehicle
PUT {{base_url}}/vehicles/{{vehicleId}} # Set vehicleId variable
Content-Type: application/json

{
  "id": "{{vehicleId}}", # Must match the ID in the URL
  "ownerUserId": "{{userId}}", # New or existing owner ID
  "vin": "VIN{{$randomInt}}XYZ987654",
  "manufacturer": "Updated Manufacturer",
  "model": "Updated Model S",
  "productionYear": "2024",
  "engineCapacity": 2.5,
  "fuelType": "Electric",
  "bodyType": "Hatchback",
  "vehicleType": "Passenger"
}

### Delete Vehicle
# @name DeleteVehicle
DELETE {{base_url}}/vehicles/{{vehicleId}} # Set vehicleId variable

# --- Variables (set these after running requests) ---
@userId = REPLACE_WITH_USER_ID_FROM_REGISTER_OR_GET
@workshopId = REPLACE_WITH_WORKSHOP_ID_FROM_REGISTER
@vehicleId = REPLACE_WITH_VEHICLE_ID_FROM_CREATE
